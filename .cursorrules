# CamperFit Pro - Regras para Cursor AI

Siga rigorosamente as **7 Leis Sagradas InvariÃ¡veis** da Matriz GÃªnesis.

## ğŸ“‹ REGRAS FUNDAMENTAIS

### Lei #1: Zero Hardcoded
- NUNCA use cores hex diretas (`#3b82f6`, `bg-blue-500`)
- NUNCA use valores mÃ¡gicos (`width: 1200`, `height: 800`)
- SEMPRE use Tailwind classes ou CSS variables de `themes.ts`
- SEMPRE use constantes de `shared/const.ts`

### Lei #2: Componentes shadcn/ui ou Canvas3D
- SEMPRE use shadcn/ui para componentes UI bÃ¡sicos
- SEMPRE use Canvas3D/Shell3D/Vehicle3D para visualizaÃ§Ã£o 3D
- NUNCA crie button/input/select do zero

### Lei #3: Dados 100% tRPC
- NUNCA use dados mockados
- SEMPRE use TanStack Query + tRPC para dados do backend
- SEMPRE implemente: loading, error, empty, success

### Lei #4: Estados UI Completos
- SEMPRE implemente todos os estados (loading, error, empty, success)
- SEMPRE mostre feedback visual apropriado

### Lei #5: CÃ¡lculos no Backend
- NUNCA calcule CG, peso, payload no frontend
- SEMPRE chame calculadoras backend via tRPC

### Lei #6: Estrutura CanÃ´nica
- Mantenha: `client/`, `server/`, `shared/`, `drizzle/`
- NUNCA crie pastas fora desta estrutura
- Coloque cÃ³digo compartilhado em `shared/`

### Lei #7: Liberdade Total
- SEMPRE permita seleÃ§Ã£o de qualquer veÃ­culo/material
- NUNCA force valores default sem opÃ§Ã£o de mudanÃ§a

## ğŸ¨ TEMAS E ESTILOS

- Use temas de `client/src/constants/themes.ts`
- Aplique via ThemeProvider
- Consulte `docs/THEME_HIERARCHY.md` para hierarquia

## ğŸ“ ESTRUTURA DE ARQUIVOS

```
client/src/
â”œâ”€â”€ components/      # Componentes React
â”‚   â”œâ”€â”€ Canvas/     # Canvas3D, Shell3D, Vehicle3D
â”‚   â”œâ”€â”€ Editor/     # Componentes do editor
â”‚   â”œâ”€â”€ Theme/      # ThemeProvider, ThemeSelector
â”‚   â””â”€â”€ Auth/       # ProtectedRoute
â”œâ”€â”€ constants/      # Bibliotecas (vehicles, materials, themes)
â”œâ”€â”€ hooks/          # Custom hooks (useProject, useCalculations)
â”œâ”€â”€ pages/          # PÃ¡ginas (Dashboard, Editor, Login, etc)
â”œâ”€â”€ stores/         # Zustand stores
â””â”€â”€ lib/            # UtilitÃ¡rios (trpc, supabase)

server/
â”œâ”€â”€ routers/        # Routers tRPC
â”œâ”€â”€ calculators/    # Calculadoras (CG, elÃ©trica, gÃ¡s)
â”œâ”€â”€ exporters/      # Exportadores (PDF, JSON, DXF, PNG)
â””â”€â”€ _core/          # Setup (trpc, auth, context)

shared/
â”œâ”€â”€ types.ts        # Types TypeScript compartilhados
â”œâ”€â”€ const.ts        # Constantes compartilhadas
â””â”€â”€ validators.ts   # Validadores Zod
```

## âš ï¸ VALIDAÃ‡Ã•ES OBRIGATÃ“RIAS

Antes de sugerir cÃ³digo:
1. Verificar se usa temas (nÃ£o cores hardcoded)
2. Verificar se usa shadcn/ui quando aplicÃ¡vel
3. Verificar se dados vÃªm de tRPC (nÃ£o mocks)
4. Verificar se todos os estados UI estÃ£o implementados
5. Verificar se cÃ¡lculos crÃ­ticos estÃ£o no backend
6. Verificar se estrutura de pastas estÃ¡ correta
7. Verificar se usuÃ¡rio tem liberdade de escolha

## ğŸ” CHECKLIST DE CÃ“DIGO

Ao criar/modificar cÃ³digo:
- [ ] Sem cores hex hardcoded
- [ ] Sem valores mÃ¡gicos
- [ ] Componentes usando shadcn/ui ou Canvas3D
- [ ] Dados via tRPC (nÃ£o mocks)
- [ ] Estados UI completos (loading, error, empty, success)
- [ ] CÃ¡lculos crÃ­ticos no backend
- [ ] Estrutura de pastas canÃ´nica
- [ ] Liberdade de seleÃ§Ã£o garantida

## ğŸ“š REFERÃŠNCIAS

- `MATRIZ_GENESIS_CamperFit.md` - As 7 Leis Sagradas
- `docs/THEME_HIERARCHY.md` - Hierarquia de temas
- `BLUEPRINT_TECNICO_CamperFit_Pro.md` - Arquitetura tÃ©cnica

---

**LEMBRE-SE:** NÃ£o existe "depois eu arrumo". Existe CERTO ou ERRADO.

